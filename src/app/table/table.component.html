<div *ngIf="companiesList; else loading">
    <div class="d-flex align-content-between">
        <form class="form-inline mb-3 col-md-8 col-sm-12">
            <input 
                class="form-control mr-sm-2 col-md-6 col-sm-12" 
                id="search" 
                type="search" 
                placeholder="Wyszukaj po nazwie..." 
                (keyup) = "filterByName($event)">
        </form>

        <div class="mb-3 col-md-4">
            <button class="btn btn-outline-secondary" (click)="decrementPage()" [disabled]="disabledDecrement">-</button>
            <span class="m-3">{{page+1}}</span>
            <button class="btn btn-outline-secondary" (click)="incrementPage()" [disabled]="disabledIncrement">+</button>
        </div>
    </div>

    <table class="table table-hover">
        <thead class="table-info">
            <th scope="col">id</th>
            <th scope="col">Nazwa</th>
            <th scope="col">Miasto</th>
            <th scope="col">
                Dochód 
                <button class="btn border-0 my-0 py-0" type="button" (click)="sortByIncomeDescending()">
                    <i class="material-icons icon my-0 y-0">arrow_drop_up</i>
                </button>
                <button class="btn border-0 my-0 py-0" type="button" (click)="sortByIncomeAscending()">
                    <i class="material-icons icon my-0 y-0">arrow_drop_down</i>
                </button>
            </th>
        </thead>
        <tbody *ngFor="let company of companiesList">
                <tr 
                    class="company"
                    [routerLink]="['/company',company.id]">
                        <th scope="row">{{company.id}}</th>
                        <td >{{company.name}}</td>
                        <td>{{company.city}}</td>
                        <td>{{company.income}}</td>
                </tr>
        </tbody>
    </table>
</div>

<ng-template #loading>
    <div class="text-center">
        <div class="spinner-border spinner-border-sm mt-5" style="width: 5rem; height: 5rem;" role="status" aria-hidden="true"></div>
        <div class="mt-4">Trwa ładowanie strony...</div>
    </div>
</ng-template>